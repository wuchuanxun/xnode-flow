(function(t,i){"object"===typeof exports&&"object"===typeof module?module.exports=i():"function"===typeof define&&define.amd?define([],i):"object"===typeof exports?exports["XNodeFlow"]=i():t["XNodeFlow"]=i()})("undefined"!==typeof self?self:this,function(){return function(t){var i={};function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(n,s,function(i){return t[i]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s="fb15")}({"3d62":function(t,i,e){"use strict";var n=e("b6f0"),s=e.n(n);s.a},b6f0:function(t,i,e){},f6fd:function(t,i){(function(t){var i="currentScript",e=t.getElementsByTagName("script");i in t||Object.defineProperty(t,i,{get:function(){try{throw new Error}catch(n){var t,i=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in e)if(e[t].src==i||"interactive"==e[t].readyState)return e[t];return null}}})})(document)},fb15:function(t,i,e){"use strict";var n;(e.r(i),"undefined"!==typeof window)&&(e("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(e.p=n[1]));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("g",{ref:"gss"},[t.clinks.length>0?[t._l(t.clinks,function(t,i){return[e("t-line",{key:i,attrs:{portData:t}})]})]:t._e(),t.vpath?e("t-line",{attrs:{portData:t.vpath}}):t._e()],2)},a=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("g",{class:t.classes},[e("path",{class:t.conWrapCls,attrs:{d:t.drawCurvePath(t.portData.Mxy,t.portData.Txy)}}),e("path",{class:t.conCls,attrs:{d:t.lpath}})])},h=[];function r(t,i){this.x=t,this.y=i}var l={calculatedCurvePathQ(t={},i={}){let e=Math.floor((i.x-t.x)/4),n=Math.floor((i.y-t.y)/4);n<0&&e>10?(this.Q1xy=new r(t.x+10,n>-10?t.y+10:t.y+4*Math.abs(n)),this.Q2xy=new r(t.x+2*e,t.y+2*n)):(this.Q1xy=new r(t.x,t.y+2*n),this.Q2xy=new r(t.x+2*e,t.y+2*n));let s="M"+t.x+" "+t.y+" Q "+this.Q1xy.x+" "+this.Q1xy.y+", "+this.Q2xy.x+" "+this.Q2xy.y+" T "+i.x+" "+i.y;return s},calculatedCurvePathL(t={},i={}){let e=Math.floor((i.x-t.x)/2),n=Math.floor((i.y-t.y)/2);return n>0?(this.L1xy=new r(t.x,t.y+n),this.L2xy=new r(i.x,t.y+n),this.path="M"+t.x+" "+t.y+" L "+this.L1xy.x+" "+this.L1xy.y+", "+this.L2xy.x+" "+this.L2xy.y+" T "+i.x+" "+i.y):(this.L1xy=new r(t.x,t.y+30),this.L2xy=new r(t.x+e,t.y+30),this.L3xy=new r(t.x+e,i.y-30),this.L4xy=new r(i.x,i.y-30),this.path="M"+t.x+" "+t.y+" L "+this.L1xy.x+" "+this.L1xy.y+", "+this.L2xy.x+" "+this.L2xy.y+", "+this.L3xy.x+" "+this.L3xy.y+", "+this.L4xy.x+" "+this.L4xy.y+" T "+i.x+" "+i.y),this.path},drawCurvePath(t={},i={},e="Q"){return"Q"===e?this.calculatedCurvePathQ(t,i):"L"===e?this.calculatedCurvePathL(t,i):void 0}};const u="task-tline";var c={name:"TLine",data(){return{lpath:"M0 0 Q 0 0, 0 0 T 0 0"}},props:{portData:{ptype:{type:[String,Number],default:"Q"},dotted:{type:[String,Boolean],default:!1},Mxy:{x:[String,Number],y:[String,Number]},Txy:{x:[String,Number],y:[String,Number]}}},computed:{classes(){return[`${u}`]},conCls(){return[`${u}-con`]},conWrapCls(){let t=this;return[`${u}-con-wrap`,t.portData.dotted?`${u}-dotted`:""]}},methods:{drawCurvePath(t,i){return t&&i&&(this.lpath=l.drawCurvePath(t,i,this.portData.ptype)),this.lpath}}},m=c;function d(t,i,e,n,s,a,o,h){var r,l="function"===typeof t?t.options:t;if(i&&(l.render=i,l.staticRenderFns=e,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(r=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=r):s&&(r=h?function(){s.call(this,this.$root.$options.shadowRoot)}:s),r)if(l.functional){l._injectStyles=r;var u=l.render;l.render=function(t,i){return r.call(i),u(t,i)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,r):[r]}return{exports:t,options:l}}var p=d(m,o,h,!1,null,null,null),g=p.exports,f={components:{TLine:g},name:"xcurve-path",props:{paths:{type:Array},areaid:[String,Number]},data(){return{clinks:[],vpath:void 0}},watch:{paths(t,i){this.vReloadall()}},mounted:function(){this.vReloadall()},methods:{vReloadall(){let t=this;this.clinks=[],this.paths.forEach(i=>{let e=document.getElementById("xnode-"+i.startNode),n=document.getElementById("xnode-"+i.endNode);if(n&&e){let s=t.computeXY(e,n);s.dotted=i.dotted,s.ptype=i.ptype,t.clinks.push(s)}})},virtualLoad(t){if(t)if(t.endNode){let i=document.getElementById("xnode-"+t.startNode),e=document.getElementById("xnode-"+t.endNode);if(e&&i){let n=this.computeXY(i,e);n.dotted=t.dotted,n.ptype=t.ptype,this.vpath=n}}else{let i=document.getElementById("xnode-"+t.startNode),e=document.getElementById(this.areaid),n=i.getBoundingClientRect();t.Mxy={x:n.x+n.width/2-e.getBoundingClientRect().left,y:n.y+n.height-e.getBoundingClientRect().top},t.Txy={x:t.Txy.x-e.getBoundingClientRect().left,y:t.Txy.y-e.getBoundingClientRect().top},this.vpath=t}else this.vpath=void 0},computeXY(t,i){let e=document.getElementById(this.areaid),n=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a={Mxy:{x:n.x+n.width/2-e.getBoundingClientRect().left,y:n.y+n.height-e.getBoundingClientRect().top},Txy:{x:s.x+s.width/2-e.getBoundingClientRect().left,y:s.y-e.getBoundingClientRect().top}};return a}}},y=f,x=d(y,s,a,!1,null,null,null),v=x.exports;v.install=(t=>{t.component(v.name,v)});var w=v,b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:t.classes,style:t.areaStyles,on:{contextmenu:t.mouseMenu}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:t.width,height:t.height,id:t.id}},[e("g",{attrs:{transform:"translate(0,0) scale(1,1)"}},[t._t("default")],2)])])},k=[];const L="task-work-area";var R={name:"xwork-area",props:{width:{type:[String,Number],default:0},height:{type:[String,Number],default:0},id:{type:[String,Number]}},computed:{classes(){return[`${L}`]},areaStyles(){let t={};return t.minWidth=`${this.width}px`,t.minHeight=`${this.height}px`,t}},methods:{mouseMenu:function(t){this.$emit("on-mouse",t,this.id)}}},S=R,B=d(S,b,k,!1,null,null,null),T=B.exports;T.install=(t=>{t.component(T.name,T)});var E=T,M=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("g",{staticStyle:{margin:"10px"},attrs:{transform:"translate("+t.left+","+t.top+")"}},[e("foreignObject",{attrs:{height:t.height,width:t.width}},[e("div",{staticClass:"vdr",class:t.active&&!t.inlinking?"active":"inactive",style:t.style,attrs:{id:"xnode-"+t.name},on:{mousedown:function(i){return t.bodyDown(i)},touchstart:function(i){return t.bodyDown(i)},touchend:function(i){return t.up(i)},mouseenter:function(i){return t.bodyEnter()},mouseleave:function(i){return t.bodyLeave()}}},[t._t("default"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isResizable&t.active&!t.inlinking,expression:"isResizable&active&(!inlinking)"}]},t._l(t.sticks,function(i,n){return e("div",{key:n,class:["vdr-stick-"+i,"vdr-stick"],style:t.vdrStick(i),on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.stickDown(i,e)},touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.stickDown(i,e)}}})}),0)],2)])],1)},D=[];const _=8,$={y:{t:"top",m:"marginTop",b:"bottom"},x:{l:"left",m:"marginLeft",r:"right"}};var C={name:"xdrag-resize",props:{inlinking:{type:Boolean,default:!1},name:{type:String,default:""},parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!0},gridX:{type:Number,default:10,validator:function(t){return t>0}},gridY:{type:Number,default:10,validator:function(t){return t>0}},parentW:{type:Number,default:0,validator:function(t){return t>=0}},parentH:{type:Number,default:0,validator:function(t){return t>=0}},w:{type:Number,default:100,validator:function(t){return t>0}},h:{type:Number,default:100,validator:function(t){return t>0}},minw:{type:Number,default:50,validator:function(t){return t>0}},minh:{type:Number,default:50,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){let i="string"===typeof t?"auto"===t:t>=0;return i}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(t){return-1!==["x","y","both","none"].indexOf(t)}}},data:function(){return{linking:!1,active:this.isActive,rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,zIndex:this.z,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,left:this.x,top:this.y,right:null,bottom:null,minWidth:this.minw,minHeight:this.minh}},created:function(){this.stickDrag=!1,this.bodyDrag=!1,this.stickAxis=null,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.currentStick=[]},mounted:function(){if(this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,document.documentElement.addEventListener("keyup",this.keyup),document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up),document.documentElement.addEventListener("mouseleave",this.up),document.documentElement.addEventListener("mousedown",this.deselect),document.documentElement.addEventListener("touchmove",this.move,!0),document.documentElement.addEventListener("touchend touchcancel",this.up,!0),document.documentElement.addEventListener("touchstart",this.up,!0),this.dragHandle){let t=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle));for(let i in t)t[i].setAttribute("data-drag-handle",this._uid)}if(this.dragCancel){let t=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel));for(let i in t)t[i].setAttribute("data-drag-cancel",this._uid)}},beforeDestroy:function(){document.documentElement.removeEventListener("keyup",this.keyup),document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up),document.documentElement.removeEventListener("mouseleave",this.up),document.documentElement.removeEventListener("mousedown",this.deselect),document.documentElement.removeEventListener("touchmove",this.move,!0),document.documentElement.removeEventListener("touchend touchcancel",this.up,!0),document.documentElement.removeEventListener("touchstart",this.up,!0)},methods:{keyup(t){this.active&&"46"==t.keyCode&&this.$emit("delete")},deselect(){this.preventActiveBehavior||(this.active=!1)},move(t){if(this.stickDrag||this.bodyDrag){if(this.inlinking)return this.linking=!0,void this.$emit("linkmove",{x:t.clientX,y:t.clientY,source:this.name});t.stopPropagation(),this.stickDrag&&this.stickMove(t),this.bodyDrag&&this.bodyMove(t)}},up(t){if(this.inlinking)return this.bodyDrag=!1,this.stickDrag=!1,void(this.linking&&(this.$emit("linkend",this.name),this.linking=!1));this.stickDrag&&this.stickUp(t),this.bodyDrag&&this.bodyUp(t)},bodyEnter(){this.inlinking&&this.$emit("linkNodeAreaIn",this.name)},bodyLeave(){this.inlinking&&this.$emit("linkNodeAreaOut",this.name)},bodyDown:function(t){let i=t.target||t.srcElement;this.preventActiveBehavior||(this.active=!0),t.button&&0!==t.button||(this.$emit("clicked",t),this.isDraggable&&this.active&&(this.dragHandle&&i.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&i.getAttribute("data-drag-cancel")===this._uid.toString()||(t.stopPropagation(),t.preventDefault(),this.bodyDrag=!0,this.stickStartPos.mouseX="undefined"!==typeof t.pageX?t.pageX:t.touches[0].pageX,this.stickStartPos.mouseY="undefined"!==typeof t.pageY?t.pageY:t.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.parentLimitation&&(this.limits=this.calcDragLimitation()))))},calcDragLimitation(){const t=this.parentWidth,i=this.parentHeight;return{minLeft:0,maxLeft:t-this.width,minRight:0,maxRight:t-this.width,minTop:0,maxTop:i-this.height,minBottom:0,maxBottom:i-this.height}},bodyMove(t){const i=this.stickStartPos,e=this.parentWidth,n=this.parentHeight,s=this.gridX,a=this.gridY,o=this.width,h=this.height,r="undefined"!==typeof t.pageX?t.pageX:t.touches[0].pageX,l="undefined"!==typeof t.pageY?t.pageY:t.touches[0].pageY;let u={x:("y"!==this.axis&&"none"!==this.axis?i.mouseX-r:0)/this.parentScaleX,y:("x"!==this.axis&&"none"!==this.axis?i.mouseY-l:0)/this.parentScaleY},c=i.top-u.y,m=i.bottom+u.y,d=i.left-u.x,p=i.right+u.x;if(this.snapToGrid){let t=!0,i=!0,r=c-Math.floor(c/a)*a,l=n-m-Math.floor((n-m)/a)*a,u=d-Math.floor(d/s)*s,g=e-p-Math.floor((e-p)/s)*s;r>a/2&&(r-=a),l>a/2&&(l-=a),u>s/2&&(u-=s),g>s/2&&(g-=s),Math.abs(l)<Math.abs(r)&&(t=!1),Math.abs(g)<Math.abs(u)&&(i=!1),c-=t?r:l,m=n-h-c,d-=i?u:g,p=e-o-d}this.rawTop=c,this.rawBottom=m,this.rawLeft=d,this.rawRight=p,this.$emit("dragging",{rect:this.rect,name:this.name})},bodyUp(){this.bodyDrag=!1,this.$emit("dragging",{rect:this.rect,name:this.name}),this.$emit("dragstop",{rect:this.rect,name:this.name}),this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},stickDown:function(t,i){if(this.isResizable&&this.active){switch(this.stickDrag=!0,this.stickStartPos.mouseX="undefined"!==typeof i.pageX?i.pageX:i.touches[0].pageX,this.stickStartPos.mouseY="undefined"!==typeof i.pageY?i.pageY:i.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.currentStick=t.split(""),this.stickAxis=null,this.currentStick[0]){case"b":this.stickAxis="y";break;case"t":this.stickAxis="y";break}switch(this.currentStick[1]){case"r":this.stickAxis="y"===this.stickAxis?"xy":"x";break;case"l":this.stickAxis="y"===this.stickAxis?"xy":"x";break}this.limits=this.calcResizeLimitation()}},calcResizeLimitation(){let t=this.minWidth,i=this.minHeight;const e=this.aspectFactor,n=this.width,s=this.height,a=this.bottom,o=this.top,h=this.left,r=this.right,l=this.stickAxis,u=this.parentLimitation?0:null;this.aspectRatio&&(t/i>e?i=t/e:t=e*i);let c={minLeft:u,maxLeft:h+(n-t),minRight:u,maxRight:r+(n-t),minTop:u,maxTop:o+(s-i),minBottom:u,maxBottom:a+(s-i)};if(this.aspectRatio){const u={minLeft:h-Math.min(o,a)*e*2,maxLeft:h+(s-i)/2*e*2,minRight:r-Math.min(o,a)*e*2,maxRight:r+(s-i)/2*e*2,minTop:o-Math.min(h,r)/e*2,maxTop:o+(n-t)/2/e*2,minBottom:a-Math.min(h,r)/e*2,maxBottom:a+(n-t)/2/e*2};"x"===l?c={minLeft:Math.max(c.minLeft,u.minLeft),maxLeft:Math.min(c.maxLeft,u.maxLeft),minRight:Math.max(c.minRight,u.minRight),maxRight:Math.min(c.maxRight,u.maxRight)}:"y"===l&&(c={minTop:Math.max(c.minTop,u.minTop),maxTop:Math.min(c.maxTop,u.maxTop),minBottom:Math.max(c.minBottom,u.minBottom),maxBottom:Math.min(c.maxBottom,u.maxBottom)})}return c},stickMove(t){const i=this.stickStartPos,e="undefined"!==typeof t.pageX?t.pageX:t.touches[0].pageX,n="undefined"!==typeof t.pageY?t.pageY:t.touches[0].pageY,s={x:(i.mouseX-e)/this.parentScaleX,y:(i.mouseY-n)/this.parentScaleY};let a=i.top-s.y,o=i.bottom+s.y,h=i.left-s.x,r=i.right+s.x;switch(this.currentStick[0]){case"b":this.snapToGrid&&(o=this.parentHeight-Math.round((this.parentHeight-o)/this.gridY)*this.gridY),this.rawBottom=o;break;case"t":this.snapToGrid&&(a=Math.round(a/this.gridY)*this.gridY),this.rawTop=a;break}switch(this.currentStick[1]){case"r":this.snapToGrid&&(r=this.parentWidth-Math.round((this.parentWidth-r)/this.gridX)*this.gridX),this.rawRight=r;break;case"l":this.snapToGrid&&(h=Math.round(h/this.gridX)*this.gridX),this.rawLeft=h;break}this.$emit("resizing",{rect:this.rect,name:this.name})},stickUp(){this.stickDrag=!1,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.stickAxis=null,this.$emit("resizing",{rect:this.rect,name:this.name}),this.$emit("resizestop",this.rect)},aspectRatioCorrection(){if(!this.aspectRatio)return;const t=this.bottom,i=this.top,e=this.left,n=this.right,s=this.width,a=this.height,o=this.aspectFactor,h=this.currentStick;if(s/a>o){let t=o*a;"l"===h[1]?this.left=e+s-t:this.right=n+s-t}else{let e=s/o;"t"===h[0]?this.top=i+a-e:this.bottom=t+a-e}}},computed:{style(){return{width:this.width-8+"px",height:this.height-8+"px",zIndex:this.zIndex,margin:"4px"}},vdrStick(){return t=>{const i={width:`${_/this.parentScaleX}px`,height:`${_/this.parentScaleY}px`};return i[$.y[t[0]]]=`${_/this.parentScaleX/-2}px`,i[$.x[t[1]]]=`${_/this.parentScaleX/-2}px`,i}},width(){return this.parentWidth-this.left-this.right>0?this.parentWidth-this.left-this.right:this.rawWidth},height(){return this.parentHeight-this.top-this.bottom>0?this.parentHeight-this.top-this.bottom:this.rawHeight},rect(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{rawLeft(t){const i=this.limits,e=this.stickAxis,n=this.aspectFactor,s=this.aspectRatio,a=this.left,o=this.bottom,h=this.top;if(null!==i.minLeft&&t<i.minLeft?t=i.minLeft:null!==i.maxLeft&&i.maxLeft<t&&(t=i.maxLeft),s&&"x"===e){const i=a-t;this.rawTop=h-i/n/2,this.rawBottom=o-i/n/2}this.left=t},rawRight(t){const i=this.limits,e=this.stickAxis,n=this.aspectFactor,s=this.aspectRatio,a=this.right,o=this.bottom,h=this.top;if(null!==i.minRight&&t<i.minRight?t=i.minRight:null!==i.maxRight&&i.maxRight<t&&(t=i.maxRight),s&&"x"===e){const i=a-t;this.rawTop=h-i/n/2,this.rawBottom=o-i/n/2}this.right=t},rawTop(t){const i=this.limits,e=this.stickAxis,n=this.aspectFactor,s=this.aspectRatio,a=this.right,o=this.left,h=this.top;if(null!==i.minTop&&t<i.minTop?t=i.minTop:null!==i.maxTop&&i.maxTop<t&&(t=i.maxTop),s&&"y"===e){const i=h-t;this.rawLeft=o-i*n/2,this.rawRight=a-i*n/2}this.top=t},rawBottom(t){const i=this.limits,e=this.stickAxis,n=this.aspectFactor,s=this.aspectRatio,a=this.right,o=this.left,h=this.bottom;if(null!==i.minBottom&&t<i.minBottom?t=i.minBottom:null!==i.maxBottom&&i.maxBottom<t&&(t=i.maxBottom),s&&"y"===e){const i=h-t;this.rawLeft=o-i*n/2,this.rawRight=a-i*n/2}this.bottom=t},width(){this.aspectRatioCorrection()},height(){this.aspectRatioCorrection()},active(t){t?this.$emit("activated"):this.$emit("deactivated")},isActive(t){this.active=t},z(t){(t>=0||"auto"===t)&&(this.zIndex=t)},aspectRatio(t){t&&(this.aspectFactor=this.width/this.height)},minw(t){t>0&&t<=this.width&&(this.minWidth=t)},minh(t){t>0&&t<=this.height&&(this.minHeight=t)},x(){if(this.stickDrag||this.bodyDrag)return;this.parentLimitation&&(this.limits=this.calcDragLimitation());let t=this.x-this.left;this.rawLeft=this.x,this.rawRight=this.right-t},y(){if(this.stickDrag||this.bodyDrag)return;this.parentLimitation&&(this.limits=this.calcDragLimitation());let t=this.y-this.top;this.rawTop=this.y,this.rawBottom=this.bottom-t},w(){if(this.stickDrag||this.bodyDrag)return;this.currentStick=["m","r"],this.stickAxis="x",this.parentLimitation&&(this.limits=this.calcResizeLimitation());let t=this.width-this.w;this.rawRight=this.right+t},h(){if(this.stickDrag||this.bodyDrag)return;this.currentStick=["b","m"],this.stickAxis="y",this.parentLimitation&&(this.limits=this.calcResizeLimitation());let t=this.height-this.h;this.rawBottom=this.bottom+t},parentW(t){this.right=t-this.width-this.left,this.parentWidth=t},parentH(t){this.bottom=t-this.height-this.top,this.parentHeight=t}}},X=C,N=(e("3d62"),d(X,M,D,!1,null,"19cd4b1d",null)),P=N.exports;P.install=(t=>{t.component(P.name,P)});var A=P;const Y=[w,E,A],H=function(t){H.installed||Y.map(i=>t.component(i.name,i))};"undefined"!==typeof window&&window.Vue&&H(window.Vue);var W=Object.assign({install:H},...Y.map(t=>{return{[t]:t}}));i["default"]=W}})});
//# sourceMappingURL=XNodeFlow.umd.min.js.map